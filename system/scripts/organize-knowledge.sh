#!/bin/bash
# โ๏ธ ููุธู ุงููุนุฑูุฉ - ููุท ุงูุฃุณุทูุฑุฉ โ๏ธ
# Knowledge Organizer Script - Legend Mode

echo "โ๏ธ ุจุฏุก ุชูุธูู ุงููุนุฑูุฉ ุจููุท ุงูุฃุณุทูุฑุฉ โ๏ธ"
echo "=========================================="
echo ""

# ุงููุชุบูุฑุงุช
WORKSPACE="/workspace"
KB_BASE="$WORKSPACE/docs/AI/knowledge_base"
HUMAN_DOCS="$WORKSPACE/docs/human/guides"

# ุฅูุดุงุก ุงูููุงูู
echo "๐ ุฅูุดุงุก ูููู ุงููุนุฑูุฉ..."
mkdir -p $KB_BASE/{security,performance,architecture,services,best-practices,database,testing}
mkdir -p $HUMAN_DOCS/{performance,security,development,deployment,quickstart}

# ุชูุธูู ูููุงุช ุงูุฃุฏุงุก
echo ""
echo "โก ุชูุธูู ูุนุฑูุฉ ุงูุฃุฏุงุก..."
find $WORKSPACE -maxdepth 2 -name "*PERFORMANCE*" -o -name "*OPTIMIZATION*" 2>/dev/null | while read file; do
    if [ -f "$file" ]; then
        cp "$file" "$KB_BASE/performance/" 2>/dev/null && echo "  โ ููู: $(basename $file)"
    fi
done

# ุชูุธูู ูููุงุช ุงูุชุญููู
echo ""
echo "๐ฌ ุชูุธูู ูููุงุช ุงูุชุญููู..."
find $WORKSPACE -maxdepth 2 -name "*ANALYSIS*" 2>/dev/null | while read file; do
    if [ -f "$file" ]; then
        cp "$file" "$KB_BASE/architecture/" 2>/dev/null && echo "  โ ููู: $(basename $file)"
    fi
done

# ุชูุธูู ูุนุฑูุฉ ุงููุธุงู
echo ""
echo "๐๏ธ ุชูุธูู ูุนุฑูุฉ ุงููุธุงู..."
find $WORKSPACE -maxdepth 2 -name "*SYSTEM*" -o -name "*STATUS*" 2>/dev/null | while read file; do
    if [ -f "$file" ]; then
        cp "$file" "$KB_BASE/architecture/" 2>/dev/null && echo "  โ ููู: $(basename $file)"
    fi
done

# ุฅูุดุงุก ููุฑุณ ุงููุนุฑูุฉ
echo ""
echo "๐ ุจูุงุก ููุฑุณ ุงููุนุฑูุฉ..."
cat > "$KB_BASE/INDEX.md" << EOF
# ๐ ููุฑุณ ูุงุนุฏุฉ ุงููุนุฑูุฉ - ูุดุฑูุน ุฒูุฑู
ุชุงุฑูุฎ ุงูุชุญุฏูุซ: $(date +"%Y-%m-%d %H:%M:%S")

## ๐ ุงููุฆุงุช ุงููุชุงุญุฉ

### โก ุงูุฃุฏุงุก ูุงูุชุญุณูู
- ุชุญุณููุงุช 75x ุฅูู 1000x
- 194 ุชูููุฉ ุชุญุณูู
- ุฃุฏูุงุช ูุฑุงูุจุฉ ูููุงุณ

### ๐ ุงูุฃูุงู
- 48 ุชุทุจูู ุฃูุงู ูุชูุฏู
- ุญูุงูุฉ ูุชุนุฏุฏุฉ ุงูุทุจูุงุช
- ุฃูุถู ุงูููุงุฑุณุงุช

### ๐๏ธ ุงููุนูุงุฑูุฉ
- ุชุญูููุงุช ุนูููุฉ ูููุธุงู
- ุฃููุงุท ุงูุชุตููู
- ููุงูู ุงููุดุงุฑูุน

### ๐ง ุงูุฎุฏูุงุช
- ุฎุฏูุงุช Laravel ูุชูุฏูุฉ
- ุชูุงููุงุช APIs
- ูุนุงูุฌุฉ ุงููุฏููุนุงุช

### ๐ ุฃูุถู ุงูููุงุฑุณุงุช
- ูุนุงููุฑ ุงูููุฏ
- ุฅุฑุดุงุฏุงุช ุงูุชุทููุฑ
- ุฏุฑูุณ ูุณุชูุงุฏุฉ

## ๐ ุงูุฅุญุตุงุฆูุงุช
EOF

# ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช
echo "" >> "$KB_BASE/INDEX.md"
echo "### ุฅุญุตุงุฆูุงุช ุงููุญุชูู" >> "$KB_BASE/INDEX.md"
for dir in $KB_BASE/*/; do
    if [ -d "$dir" ]; then
        count=$(find "$dir" -type f -name "*.md" 2>/dev/null | wc -l)
        dirname=$(basename "$dir")
        echo "- $dirname: $count ููู" >> "$KB_BASE/INDEX.md"
    fi
done

# ุฅูุดุงุก ุฏููู ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ
echo ""
echo "๐ ุฅูุดุงุก ุฏููู ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ..."
cat > "$HUMAN_DOCS/quickstart/README.md" << EOF
# ๐ ุฏููู ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ - ูุดุฑูุน ุฒูุฑู

## ูุธุฑุฉ ุนุงูุฉ
ูุดุฑูุน ุฒูุฑู ูู ููุตุฉ ูุนุฑููุฉ ูุชูุฏูุฉ ุชุญุชูู ุนูู ุฎุจุฑุงุช ูุณุชุฎูุตุฉ ูู 4,050 ููู Laravel.

## ุงูููููุงุช ุงูุฑุฆูุณูุฉ
1. **ZeroPay** - ููุตุฉ ุงููุนุฑูุฉ
2. **Smart AutoParts** - ูุดุฑูุน ูุทุน ุงูุบูุงุฑ ุงูุฐูู
3. **ุฃุฏูุงุช ุงููุธุงู** - 31+ ุฃุฏุงุฉ ูุชุฎุตุตุฉ
4. **ูุงุนุฏุฉ ุงููุนุฑูุฉ** - ูุนุฑูุฉ ููุธูุฉ ูุฌุงูุฒุฉ

## ุงูุจุฏุก ุงูุณุฑูุน
1. ุงุณุชูุดู ูุงุนุฏุฉ ุงููุนุฑูุฉ ูู \`/docs/AI/knowledge_base\`
2. ุฑุงุฌุน ุฃุฏูุงุช ุงููุธุงู ูู \`/system/scripts\`
3. ุงุทูุน ุนูู ุงููุดุงุฑูุน ูู \`/zeropay/projects\`

## ุงูููุงุฑุฏ
- [ููุฑุณ ุงููุนุฑูุฉ](/docs/AI/knowledge_base/INDEX.md)
- [ุฃุฏูุงุช ุงูุฃุฏุงุก](/system/scripts/)
- [ุงููุซุงุฆู ุงูุจุดุฑูุฉ](/docs/human/)

---
โ๏ธ ููุท ุงูุฃุณุทูุฑุฉ - ุงููุนุฑูุฉ ููุฉ โ๏ธ
EOF

# ุฅูุดุงุก ููุฎุต ุงูุญุงูุฉ
echo ""
echo "๐ ุฅูุดุงุก ููุฎุต ุงูุญุงูุฉ..."
cat > "$WORKSPACE/KNOWLEDGE_STATUS.md" << EOF
# ๐ ุญุงูุฉ ุชูุธูู ุงููุนุฑูุฉ
ุชุงุฑูุฎ ุงูุชุญุฏูุซ: $(date +"%Y-%m-%d %H:%M:%S")

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ููููุฉ ุงููุนุฑูุฉ
- โ ุฅูุดุงุก ูููู ููุธู ูููุนุฑูุฉ
- โ ุชุตููู ุงููุญุชูู ุญุณุจ ุงููุฆุงุช
- โ ุจูุงุก ููุฑุณ ุดุงูู

### 2. ุชูุธูู ุงููููุงุช
- โ ููู ูููุงุช ุงูุฃุฏุงุก ูุงูุชุญุณูู
- โ ุชูุธูู ูููุงุช ุงูุชุญููู
- โ ุชุฑุชูุจ ูุนุฑูุฉ ุงููุธุงู

### 3. ุฅูุดุงุก ุงูุฃุฏูุฉ
- โ ุฏููู ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ
- โ ููุฑุณ ูุงุนุฏุฉ ุงููุนุฑูุฉ
- โ ููุฎุตุงุช ุงูุญุงูุฉ

## ๐ ุงูุฅุญุตุงุฆูุงุช
- ุงููููุงุช ุงูููุธูุฉ: $(find $KB_BASE -type f -name "*.md" 2>/dev/null | wc -l)
- ุงููุฆุงุช ุงููุดุทุฉ: $(find $KB_BASE -mindepth 1 -maxdepth 1 -type d | wc -l)
- ุงูุฃุฏูุฉ ุงูููุดุฃุฉ: $(find $HUMAN_DOCS -type f -name "*.md" 2>/dev/null | wc -l)

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ
1. ุงุณุชููุงู ููู ุงููุนุฑูุฉ ูู /learn
2. ุจูุงุก ูุญุฑู ุจุญุซ ูููุนุฑูุฉ
3. ุฅูุดุงุก ูุธุงู ุชูุตูุงุช ุฐูู
4. ุชุทููุฑ ูุงุฌูุฉ ุชูุงุนููุฉ

---
โ๏ธ ููุท ุงูุฃุณุทูุฑุฉ - ุงูุชูุธูู ุฃุณุงุณ ุงูููุฉ โ๏ธ
EOF

echo ""
echo "โ ุชู ุชูุธูู ุงููุนุฑูุฉ ุจูุฌุงุญ!"
echo ""
echo "๐ ุงูููุฎุต:"
echo "- ุงููููุงุช ุงูููุธูุฉ: $(find $KB_BASE -type f 2>/dev/null | wc -l)"
echo "- ุงููุฆุงุช: $(find $KB_BASE -mindepth 1 -maxdepth 1 -type d | wc -l)"
echo "- ุงููุณุงุญุฉ ุงููุณุชุฎุฏูุฉ: $(du -sh $KB_BASE 2>/dev/null | cut -f1)"
echo ""
echo "โ๏ธ ููุท ุงูุฃุณุทูุฑุฉ - ุงููุนุฑูุฉ ููุธูุฉ ูุฌุงูุฒุฉ โ๏ธ"